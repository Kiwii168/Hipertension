<!DOCTYPE html>
<html lang="en">

<head>
   <!-- basic -->
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <!-- mobile metas -->
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="viewport" content="initial-scale=1, maximum-scale=1">
   <!-- site metas -->
   <title>HipertensionsITA</title>
   <meta name="keywords" content="">
   <meta name="description" content="">
   <meta name="author" content="">
   <!-- bootstrap css -->
   <link rel="stylesheet" href="css/bootstrap.min.css">
   <!-- style css -->
   <link rel="stylesheet" href="css/style.css">
   <!-- Responsive-->
   <link rel="stylesheet" href="css/responsive.css">
   <!-- fevicon -->
   <link rel="icon" href="images/fevicon.png" type="image/gif" />
   <!-- Scrollbar Custom CSS -->
   <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
   <!-- Tweaks for older IEs-->
   <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"
      media="screen">
</head>
<!-- body -->

<body class="main-layout in_page">
   <!-- loader  -->
   <div class="loader_bg">
      <div class="loader"><img src="images/loading.gif" alt="#" /></div>
   </div>
   <!-- end loader -->
   <!-- header -->
   <header>
      <div class="header">
         <div class="container">
            <div class="row">
               <div class="col-md-12 col-sm-3 col logo_section">
                  <div class="full">
                     <div class="center-desk">
                        <div class="logo">
                           <a href="index.html"><img src="images/logo.png" alt="#" /></a>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-md-10 offset-md-1">
                  <nav class="navigation navbar navbar-expand-md navbar-dark">
                     <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04"
                        aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                     </button>
                     <div class="collapse navbar-collapse justify-content-center" id="navbarsExample04">
                        <ul class="navbar-nav">
                           <li class="nav-item">
                              <a class="nav-link" href="Inicio.html">Inicio</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="Casos.html">Casos</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="QueEs.html">¿Qué es?</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="Sintomas.html">Síntomas</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="Prueba.html">Prueba</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="SobreNosotros.html">Sobre nosotros</a>
                           </li>
                        </ul>
                     </div>
                  </nav>
               </div>
            </div>
         </div>
      </div>
   </header>
   <!-- end header inner -->
   <!--  service -->
   <div class="service">
      <div class="container">
         <div class="row">
            <div class="col-md-12">
               <div class="titlepage">
                  <h2>Test de Hipertensión</h2>
                  <p>Responde las siguientes preguntas</p>
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-md-10 offset-md-1">
               <form id="predictionForm" method="POST">
                  <div class="row">
                     <!-- Preguntas binarias con radio buttons -->
                     <div class="col-md-12">
                        <label for="male">Género</label><br>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="male" name="gender" value="1" required>
                           <label class="form-check-label" for="male">Masculino</label>
                        </div>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="female" name="gender" value="0">
                           <label class="form-check-label" for="female">Femenino</label>
                        </div>
                     </div>

                     <div class="col-md-12">
                        <label for="age">Edad:</label>
                        <input type="number" class="form-control" id="age" name="age" required>
                     </div>

                     <div class="col-md-12">
                        <label for="currentSmoker">¿Fumas?</label><br>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="currentSmokerYes" name="currentSmoker"
                              value="1" required>
                           <label class="form-check-label" for="currentSmokerYes">Sí</label>
                        </div>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="currentSmokerNo" name="currentSmoker"
                              value="0">
                           <label class="form-check-label" for="currentSmokerNo">No</label>
                        </div>
                     </div>

                     <div class="col-md-12">
                        <label for="cigsPerDay">Número de cigarrillos al día:</label>
                        <input type="number" class="form-control" id="cigsPerDay" name="cigsPerDay" required>
                     </div>

                     <div class="col-md-12">
                        <label for="BPMeds">¿Tomas medicamentos para la presión?</label><br>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="BPMedsYes" name="BPMeds" value="1" required>
                           <label class="form-check-label" for="BPMedsYes">Sí</label>
                        </div>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="BPMedsNo" name="BPMeds" value="0">
                           <label class="form-check-label" for="BPMedsNo">No</label>
                        </div>
                     </div>

                     <div class="col-md-12">
                        <label for="diabetes">¿Tienes diabetes?</label><br>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="diabetesYes" name="diabetes" value="1"
                              required>
                           <label class="form-check-label" for="diabetesYes">Sí</label>
                        </div>
                        <div class="form-check form-check-inline">
                           <input class="form-check-input" type="radio" id="diabetesNo" name="diabetes" value="0">
                           <label class="form-check-label" for="diabetesNo">No</label>
                        </div>
                     </div>

                     <div class="col-md-12">
                        <label for="totChol">Colesterol total (mg/dL):</label>
                        <input type="number" class="form-control" id="totChol" name="totChol" required>
                     </div>

                     <div class="col-md-12">
                        <label for="sysBP">Presión sistólica (mmHg):</label>
                        <input type="number" class="form-control" id="sysBP" name="sysBP" required>
                     </div>

                     <div class="col-md-12">
                        <label for="diaBP">Presión diastólica (mmHg):</label>
                        <input type="number" class="form-control" id="diaBP" name="diaBP" required>
                     </div>

                     <div class="col-md-12">
                        <label for="BMI">Índice de masa corporal (BMI):</label>
                        <input type="number" class="form-control" id="BMI" name="BMI" step="0.01" required>
                     </div>

                     <div class="col-md-12">
                        <label for="heartRate">Frecuencia cardiaca (latidos por minuto):</label>
                        <input type="number" class="form-control" id="heartRate" name="heartRate" required>
                     </div>

                     <div class="col-md-12">
                        <label for="glucose">Nivel de glucosa (mg/dL):</label>
                        <input type="number" class="form-control" id="glucose" name="glucose" required>
                     </div>

                     <!-- Botón para enviar el formulario -->
                     <div class="col-md-12 text-center">
                        <br>
                        <button type="submit" class="btn btn-primary">Enviar respuestas</button>
                        <br>
                        <br>
                     </div>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </div>
   <!-- end service -->
   <!--  footer -->
   <footer style="background-color: #1e1e1e; color: #ffffff;">
      <div class="footer">
         <div class="container">
            <div class="row">
               <div class="col-md-3 col-sm-6" style="text-align: center;">
                  <h3 style="color: #ffffff;">INTEGRANTES</h3>
                  <ul class="link_menu" style="list-style-type: none; padding: 0;">
                     <li><a style="color: #ffffff;">César</a></li>
                     <li><a style="color: #ffffff;">Óscar</a></li>
                     <li><a style="color: #ffffff;">Yahel</a></li>
                     <li><a style="color: #ffffff;">Steven</a></li>
                     <li><a style="color: #ffffff;">Diego</a></li>
                  </ul>
               </div>
               <div class="col-md-3 col-sm-6" style="text-align: center;">
                  <h3 style="color: #ffffff;">SÍNTOMAS</h3>
                  <ul class="link_menu" style="list-style-type: none; padding: 0;">
                     <li><a href="index.html" style="color: #ffffff;">Conocer más</a></li>
                  </ul>
               </div>
               <div class="col-md-3 col-sm-6" style="text-align: center;">
                  <h3 style="color: #ffffff;">¿Qué es?</h3>
                  <ul class="link_menu" style="list-style-type: none; padding: 0;">
                     <li><a href="index.html" style="color: #ffffff;">Conocer más</a></li>
                  </ul>
               </div>
               <div class="col-md-3 col-sm-6" style="text-align: center;">
                  <h3 style="color: #ffffff;">TEST</h3>
                  <ul class="link_menu" style="list-style-type: none; padding: 0;">
                     <li><a href="index.html" style="color: #ffffff;">Realizar Test</a></li>
                  </ul>
               </div>
            </div>
         </div>
         <div class="copyright" style="background-color: #1e1e1e; color: #ffffff;">
            <div class="container">
               <div class="row">
                  <div class="col-md-10 offset-md-1">
                     <p style="color: #ffffff;">© 2024 Todos Los Derechos Reservados. Sueltame <a
                           href="https://aguascalientes.tecnm.mx" style="color: #ffffff;">TecNM</a></p>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </footer>
   <!-- end footer -->
   <!-- Javascript files-->
   <script src="js/jquery.min.js"></script>
   <script src="js/bootstrap.bundle.min.js"></script>
   <script src="js/jquery-3.0.0.min.js"></script>
   <!-- sidebar -->
   <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
   <script src="js/custom.js"></script>
</body>

<script>
   document.getElementById('predictionForm').addEventListener('submit', function (event) {
      event.preventDefault();  // Prevenir el envío del formulario

      // Obtener los valores de los campos del formulario
      let gender = document.querySelector('input[name="gender"]:checked').value;
      let age = document.getElementById('age').value;
      let currentSmoker = document.querySelector('input[name="currentSmoker"]:checked').value;
      let cigsPerDay = document.getElementById('cigsPerDay').value;
      let BPMeds = document.querySelector('input[name="BPMeds"]:checked').value;
      let diabetes = document.querySelector('input[name="diabetes"]:checked').value;
      let totChol = document.getElementById('totChol').value;
      let sysBP = document.getElementById('sysBP').value;
      let diaBP = document.getElementById('diaBP').value;
      let BMI = document.getElementById('BMI').value;
      let heartRate = document.getElementById('heartRate').value;
      let glucose = document.getElementById('glucose').value;

      // Crear un objeto con los datos
      let formData = {
         gender: gender,
         age: age,
         currentSmoker: currentSmoker,
         cigsPerDay: cigsPerDay,
         BPMeds: BPMeds,
         diabetes: diabetes,
         totChol: totChol,
         sysBP: sysBP,
         diaBP: diaBP,
         BMI: BMI,
         heartRate: heartRate,
         glucose: glucose
      };

     // let resultWindow = window.open('Resultado.html', '_blank');

      // Enviar los datos al servidor para hacer la predicción
      fetch('http://127.0.0.1:5000/prediccion', {
         method: 'POST',
         headers: {
            'Content-Type': 'application/json'
         },
         body: JSON.stringify(formData)
      })
         .then(response => response.json())
         .then(data => {
            // Almacenar el resultado de la predicción en localStorage
            localStorage.setItem('predictionResult', data.prediction);
            localStorage.setItem('genre', formData.gender);
            localStorage.setItem('age', formData.age);
            localStorage.setItem('currentSmoker', formData.currentSmoker);
            localStorage.setItem('cigsPerDay', formData.cigsPerDay);
            localStorage.setItem('BPMeds', formData.BPMeds);
            localStorage.setItem('diabetes', formData.diabetes);
            localStorage.setItem('totChol', formData.totChol);
            localStorage.setItem('sysBP', formData.sysBP);
            localStorage.setItem('diaBP', formData.diaBP);
            localStorage.setItem('BMI', formData.BMI);
            localStorage.setItem('heartRate', formData.heartRate);
            localStorage.setItem('glucose', formData.glucose);



            // Abrir la página de Resultado.html
            window.open('Resultado.html', '_self');
         })
         .catch(error => {
            console.error('Error:', error);
         });
   });
</script>


</html>